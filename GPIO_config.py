import RPi.GPIO as GPIO

class io(object):


    def __init__(self, ):
        # SET GPIO numbering mode to use GPIO designation, NOT pin numbers
        GPIO.setmode(GPIO.BCM)
        GPIO.setwarnings(False)

        """
        +--------------------+-----------+----+-----------+-------------------------+
        |                BCM | Header P1 | || | Header P1 | BCM                     |
        +--------------------+-----------+----+-----------+-------------------------+
        |         3.3V Power |         1 | || | 2         | 5V Power                |
        +--------------------+-----------+----+-----------+-------------------------+
        |        GPIO2 (SDA) |         3 | || | 4         | 5V Power                |
        +--------------------+-----------+----+-----------+-------------------------+
        |        GPIO3 (SCL) |         5 | || | 6         | GND                     |
        +--------------------+-----------+----+-----------+-------------------------+
        |     GPIO4 (GPCLK0) |         7 | || | 8         | GPIO14 (TXD0)           |
        +--------------------+-----------+----+-----------+-------------------------+
        |                GND |         9 | || | 10        | GPIO15 (RXD0)           |
        +--------------------+-----------+----+-----------+-------------------------+
        |  GPIO17 (SPI1 CE1) |        11 | || | 12        | GPIO18 (SPI1 CE0, PWM0) |
        +--------------------+-----------+----+-----------+-------------------------+
        |             GPIO27 |        13 | || | 14        | GND                     |
        +--------------------+-----------+----+-----------+-------------------------+
        |             GPIO22 |        15 | || | 16        | GPIO23                  |
        +--------------------+-----------+----+-----------+-------------------------+
        |               3.3V |        17 | || | 18        | GPIO24                  |
        +--------------------+-----------+----+-----------+-------------------------+
        | GPIO10 (SPI0 MOSI) |        19 | || | 20        | GND                     |
        +--------------------+-----------+----+-----------+-------------------------+
        |  GPIO9 (SPI0 MISO) |        21 | || | 22        | GPIO25                  |
        +--------------------+-----------+----+-----------+-------------------------+
        | GPIO11 (SPI0 SCLK) |        23 | || | 24        | GPIO8 (SPI0 CE0)        |
        +--------------------+-----------+----+-----------+-------------------------+
        |                GND |        25 | || | 26        | GPIO7 (SPI0 CE1)        |
        +--------------------+-----------+----+-----------+-------------------------+
        |      GPIO0 (ID_SD) |        27 | || | 28        | GPIO1 (ID_SC)           |
        +--------------------+-----------+----+-----------+-------------------------+
        |              GPIO5 |        29 | || | 30        | GND                     |
        +--------------------+-----------+----+-----------+-------------------------+
        |              GPIO6 |        31 | || | 32        | GPIO12 (PWM0)           |
        +--------------------+-----------+----+-----------+-------------------------+
        |      GPIO13 (PWM1) |        33 | || | 34        | GND                     |
        +--------------------+-----------+----+-----------+-------------------------+
        | GPIO19 (SPI1 MISO) |        35 | || | 36        | GPIO16                  |
        +--------------------+-----------+----+-----------+-------------------------+
        |             GPIO26 |        37 | || | 38        | GPIO20 (SPI1 MOSI)      |
        +--------------------+-----------+----+-----------+-------------------------+
        |                GND |        39 | || | 40        | GPIO21 (SPI1 SCLK)      |
        +--------------------+-----------+----+-----------+-------------------------+
       
         Boot time configuration
        +----------+-Rev2-+------+--------+------+-------+
        | wiringPi | GPIO | Phys | Name   | Mode | Value |
        +----------+------+------+--------+------+-------+
        |      0   |  17  |  11  | GPIO 0 | IN   | Low   |
        |      1   |  18  |  12  | GPIO 1 | IN   | Low   |
        |      2   |  27  |  13  | GPIO 2 | IN   | Low   |
        |      3   |  22  |  15  | GPIO 3 | IN   | Low   |
        |      4   |  23  |  16  | GPIO 4 | IN   | Low   |
        |      5   |  24  |  18  | GPIO 5 | IN   | Low   |
        |      6   |  25  |  22  | GPIO 6 | IN   | Low   |
        |      7   |   4  |   7  | GPIO 7 | IN   | Low   |
        |      8   |   2  |   3  | SDA    | IN   | High  |
        |      9   |   3  |   5  | SCL    | IN   | High  |
        |     10   |   8  |  24  | CE0    | IN   | Low   |
        |     11   |   7  |  26  | CE1    | IN   | Low   |
        |     12   |  10  |  19  | MOSI   | IN   | Low   |
        |     13   |   9  |  21  | MISO   | IN   | Low   |
        |     14   |  11  |  23  | SCLK   | IN   | Low   |
        |     15   |  14  |   8  | TxD    | ALT0 | High  |
        |     16   |  15  |  10  | RxD    | ALT0 | High  |
        |     17   |  28  |   3  | GPIO 8 | IN   | Low   |
        |     18   |  29  |   4  | GPIO 9 | IN   | Low   |
        |     19   |  30  |   5  | GPIO10 | IN   | Low   |
        |     20   |  31  |   6  | GPIO11 | IN   | Low   |
        +----------+------+------+--------+------+-------+
     
        @dictionary GPIO Pin Numbers
        @Maps DAC singals to GPIO PINS.
        """
        self.pin_map = {
            "SDA_0": 2,
            "SCL_0": 3,
            "HTR_PWR1": 4,
            "BCM5": 5,
            "BCM6": 6,
            "SPI0_CE1": 7,
            "SPI0_CE0": 8,
            "SPI0_MISO": 9,
            "SPI0_MOSI": 10,
            "SPI0_SCLK": 11,
            "BCM12": 12,
            "BCM13": 13,
            "BCM16": 16,
            "BCM17": 17,
            "BCM18": 18,
            "BCM19": 19,
            "RELAY2": 20,
            "RELAY3": 21,
            "BCM22": 22,
            "BCM23": 23,
            "BCM24": 24,
            "BCM25": 25,
            "RELAY1": 26,
            "BCM27": 27,
        }

        # ---------------- outputs -------------------
        # Set RELAY1 to output level High.
        pin = self.pin_map['RELAY1']
        GPIO.setup(pin, GPIO.OUT)
        GPIO.output(pin, 1)

        # Set RELAY2 to output level High.
        pin = self.pin_map['RELAY2']
        GPIO.setup(pin, GPIO.OUT)
        GPIO.output(pin, 1)

        # Set RELAY3 to output level High.
        pin = self.pin_map['RELAY3']
        GPIO.setup(pin, GPIO.OUT)
        GPIO.output(pin, 1)

        # Set HTR_PWR1 to output level low.
        pin = self.pin_map['HTR_PWR1']
        GPIO.setup(pin, GPIO.OUT)
        GPIO.output(pin, 0)

    def turn_heater_on(self):
        pin = self.pin_map['HTR_PWR1']
        GPIO.output(pin, 1)

    def turn_heater_off(self):
        pin = self.pin_map['HTR_PWR1']
        GPIO.output(pin, 0)
